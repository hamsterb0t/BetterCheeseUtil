# BCU (Better Cheese 유틸리티)

> [!IMPORTANT]
> **개인 사정으로 인해 개발을 중단합니다. 소스코드를 공개하오니 유지보수가 필요할 경우 자유롭게 포크해주시길 부탁드립니다.**

## 소개
**BCU(Better Cheese 유틸리티)는 치지직 스트리머를 위한 강력한 방송 보조 유틸리티입니다!**

![](https://i.imgur.com/HTfIpj7.png)

* [더 많은 실행화면 보러가기](https://imgur.com/a/06l6n9F)
* 원클릭으로 방송을 준비하고 설정하실 수 있습니다.
* 영상후원 관리, 채팅부검, 투표, 추첨, 승부예측 오버레이 등 편리한 기능을 제공합니다.


## 기능

### 1. 채팅창
* **채팅창 접속**: 네이버 로그인을 통한 치지직 공식 API 인증을 통해 치지직 채팅에 접속합니다.
* **채팅창 팝업**: 치지직 채팅 팝업창을 정해진 위치와 크기로 띄울 수 있습니다. 링크가 하이퍼링크로 변환되며 클릭으로 열 수 있습니다.
* **채팅 통계 분석**: 채팅에서 가장 많이 입력된 단어 순위, 특정 문자/이모티콘이 입력된 횟수, 시청자 채팅 횟수 순위를 분석할 수 있습니다.

### 2. 리모컨
* **방송 상태 확인**: 업타임과 시청자 수를 확인할 수 있습니다.
* **리모컨 버튼**: 일반 후원과 영상 후원 리모컨 기능을 제공합니다.
    * 영상 후원 리모컨은 전용 영도 오버레이 사용을 필요로 합니다.
* **후원목록**: 텍스트 기반의 후원 내역입니다.
    * 치지직 리모컨과 달리 후원 메시지가 잘림 없이 표시됩니다.
    * 왕도네 후원은 노란색 하이라이트 표시됩니다.
    * 치지직 리모컨과 유사하며 원치 않을 경우 기능을 끌 수 있습니다.
* **치지직 리모컨**: 순정 치지직 리모컨입니다.
    * 오른쪽 사이드바를 온오프 할 수 있습니다.
    * 영상 후원 재생 내역이 기록되며, 현재 재생 중인 영상으로 이동하거나 영도를 검색할 수 있습니다.
    * 후원 내역에서 특정 시청자의 밴 또는 부검 메뉴로 바로 이동할 수 있습니다.
* **간단 방송 설정**: 치지직 스튜디오 방송 관리 창을 간소화 한 것입니다.
    * 후원 받기 설정을 온오프 할 수 있습니다.
    * 가장 자주 설정하는 방송 제목 및 카테고리 설정만 표시됩니다. 원할 경우 모든 설정을 표시할 수 있습니다.
    * 승부예측에서 확인 버튼을 누르더라도 창이 꺼지는 일 없이 연속적으로 매끄럽게 사용할 수 있습니다.
    * 치지직 스튜디오 팝업 버튼을 클릭하여 스튜디오에 바로 접근할 수 있습니다.

### 3. 영상후원
* **영도내림 알림**
    * 지정된 시간만큼 영상후원이 쌓이면, 알림창을 띄워줍니다. 자동으로 영상후원을 닫도록 하실 수도 있습니다.
    * 영도 오버레이를 사용하지 않으셔도 사용 가능한 기능입니다.
* **영도 오버레이**: OBS 브라우저 소스를 대체합니다.
    * 숲, 투네이션과 유사하게 후원 알림을 표시하지 않아 영상 후원이 끊김 없이 재생됩니다.
    * CSS를 적용하여 영상이 고화질의 720p 영상으로 재생됩니다.
    * 쇼츠 영상일 경우 자동으로 세로로 회전되어 크게 보입니다.
    * 영도 리모컨을 사용하시려면 영도 오버레이를 필수로 사용하셔야 합니다.

### 4. 채팅부검
시청자의 채팅 이력을 조회하고 관리할 수 있습니다.
* **로그 검색**
    * 특정 유저의 채팅 내역을 기한 제한 없이 검색할 수 있습니다.
    * 전체 채팅 내용을 키워드로 검색할 수 있습니다.
* **채팅 모아보기**
    * 특정 시청자의 채팅만 실시간으로 모아서 볼 수 있습니다.
* **유저 정보 보기**
    * 치지직 유저 정보 팝업창을 표시하여 악성 시청자를 제제할 수 있습니다.

### 5. 투표
* **다양한 투표 방식**
    * 채팅 투표와 치즈 후원 투표를 지원합니다.
* **조건 설정**
    * 복수 투표 허용, 후원 금액별 투표 가중치 설정이 가능합니다.
* **추첨 진행**
    * 특정 항목에 투표한 유저를 대상으로 추첨할 수 있습니다.

### 6. 추첨
* **조건 설정**
    * 제한 시간, 제한 인원, 구독자 전용, 중복 당첨 제외 등 다양한 옵션이 있습니다.
* **TTS 읽어주기**
    * 당첨자의 채팅을 TTS로 읽어줍니다.

### 7. 기타 기능
* **미션 TTS 알림**
    * 미션 후원의 내용을 TTS로 읽어줍니다.
* **미션 자동 수락**
    * 미션이 들어오면 자동으로 수락합니다. 
* **자동 공지 등록**
    * 채팅창 접속 시 자동으로 공지를 등록합니다.
* **승부예측 오버레이**
    * 승부예측 실시간 현황을 방송화면에 오버레이로 띄울 수 있습니다.


## 유의사항
* **치지직 공식 API의 기능 미비로, 비공식 API를 병행 사용합니다.**
   * 네이버 계정의 안전을 위해, 네이버 계정 쿠키를 일절 사용하지 않으며, 비공식 API는 비로그인 상태로 접속합니다.
 
* **모든 계정 정보는 컴퓨터에 로컬로 저장되며, 네이버 치지직 및 구글 API 서버를 제외한 어떤 외부 서버에도 전송되지 않습니다.**

* **영상 후원 재생 내역 기록은, 치지직 리모컨을 표시한 채로 두거나, 치지직 리모컨 팝업을 필요로 합니다.**
   * 치지직 리모컨이 가려질 경우, 브라우저가 비활성화되어 영상 후원 재생 내역이 기록되지 않습니다.
 
* **Google 로그인이 되지 않을 경우, 여러 번 재시도하거나 패스키를 사용하면 로그인됩니다.**

## 시작하기

최초 실행 시 다음 설정을 완료해야 정상적으로 기능을 사용할 수 있습니다.

1.  **치지직 API 키 발급**: [발급 방법](https://cyclic-dollar-9de.notion.site/API-2d2352f183c38056bc24e6df7b87529d) 치지직 개발자 센터에서 어플리케이션을 등록하여 Client ID와 Client Secret을 발급받습니다.
2.  **유튜브 API 키 발급**: [발급 방법](https://cyclic-dollar-9de.notion.site/API-2d3352f183c380ba9a4bfe8171d24221) 구글 클라우드 플랫폼에서 API 키를 발급받습니다. 영상후원 오버레이 쇼츠 인식에 사용됩니다. 
3.  **설정 입력**:
    - 프로그램을 키고 [설정] 탭으로 이동합니다.
    - '치지직 API 설정' 항목에 발급받은 Client ID와 Client Secret을 입력합니다.
    - 'YouTube Data API V3' 항목에 발급받은 API 키를 입력합니다.
    - '치지직 영도 오버레이 URL' 항목에 영상후원 알림 URL을 붙여넣으세요.
4.  **채팅 연결**:
    - [채팅창] 탭으로 이동합니다.
    - [채팅창 접속] 버튼을 눌러 네이버 계정으로 로그인하세요(**로그인 상태 유지 체크 필수!**). 그 다음 애플리케이션 권한을 허용하세요.
    - 정상적으로 접속되었을 경우, 프로그램을 종료하고 다시 실행하여 설정을 완료하세요.
5.  **설정 완료**:
    - [설정] 탭에서 원하는대로 설정을 조정하여 주세요.
    - [자동 실행 설정]에서, 프로그램 시작 시 자동으로 채팅창 접속 및 채팅창 팝업이 실행되도록 하실 수 있습니다.
    - [OBS 승부예측 오버레이 설정법], [OBS 영상후원 오버레이 설정법] 등을 눌러 설정을 진행해야 해당 기능을 모두 사용하실 수 있습니다.

## 다운로드
[다운로드](https://github.com/hamsterb0t/BetterCheeseUtil/releases/latest)

## 컴파일
[컴파일 방법](https://github.com/hamsterb0t/BetterCheeseUtil/blob/main/md/Compile_Tutorial.md)

## Credits
* [치지직 스트리머 케인](https://chzzk.naver.com/7b1acb37b35928ff690d011296a9e5ab) - 개발에 있어 많은 피드백과 도움을 주셨습니다.
* [gunyu1019/chzzkpy](https://github.com/gunyu1019/chzzk_py) - 네이버 라이브 스트리밍 서비스 비공식 파이썬 라이브러리
* [Uknong/CHZZK_kane_0do_CSS](https://github.com/Uknong/CHZZK_kane_0do_CSS) - 영도 오버레이 CSS를 참고하였습니다.
